---
title: hexo æ­å»ºåšå®¢
date: 2022-08-24 15:09:00
categories:
- hexo

tags:
- å·¥å…·
- hexo

description:
- ä½¿ç”¨ hexo + github æ­å»ºåšå®¢ç½‘ç«™
---

# hexo æ­å»ºåšå®¢

## ä¸€ã€å‡†å¤‡

### 1ã€ç¯å¢ƒ

- å®‰è£…node
```shell
node -v # v16.16.0

npm -v # 8.11.0
```
- å®‰è£…git
```shell
 git --version # git version 2.32.1 (Apple Git-133)
```

### 2ã€è´¦å·
- github [æ³¨å†Œ](https://github.com/)

## äºŒã€å®‰è£… hexo å·¥å…·

```shell
npm install -g hexo-cli # å…¨å±€å®‰è£…
```

## ä¸‰ã€å»ºç«™

```shell
hexo init <folder>
cd <folder>
npm install # yarn
```

- ç›®å½•
```shell
.
â”œâ”€â”€ _config.yml
â”œâ”€â”€ package.json
â”œâ”€â”€ scaffolds
â”œâ”€â”€ source
|   â”œâ”€â”€ _drafts
|   â””â”€â”€ _posts
â””â”€â”€ themes
```

- æœ¬åœ°å¯åŠ¨
```shell
npm run server # yarn server
```

## å››ã€[é…ç½®](https://hexo.io/zh-cn/docs/configuration#%E7%BD%91%E5%9D%80)

æ‚¨å¯ä»¥åœ¨ _config.yml ä¸­ä¿®æ”¹å¤§éƒ¨åˆ†çš„é…ç½®ã€‚

### 1ã€ç½‘ç«™

```shell
# Site
title: 520wsl
subtitle: 'Love Love Love'
description: 'æ˜¯è°ç»™ä½ çš„å‹‡æ°”ï¼Ÿï¼Ÿï¼Ÿæ¢é™èŒ¹å—ï¼Ÿ'
keywords: vue javascript python php
author: Mad Dragon
language: zh-CN
timezone: 'Asia/Shanghai'
```

|å‚æ•°|	æè¿°|
|:--:|:---|
|title|	ç½‘ç«™æ ‡é¢˜|
|subtitle|	ç½‘ç«™å‰¯æ ‡é¢˜|
|description|	ç½‘ç«™æè¿°|
|keywords|	ç½‘ç«™çš„å…³é”®è¯ã€‚æ”¯æŒå¤šä¸ªå…³é”®è¯ã€‚|
|author|	æ‚¨çš„åå­—|
|language|	ç½‘ç«™ä½¿ç”¨çš„è¯­è¨€ã€‚å¯¹äºç®€ä½“ä¸­æ–‡ç”¨æˆ·æ¥è¯´ï¼Œä½¿ç”¨ä¸åŒçš„ä¸»é¢˜å¯èƒ½éœ€è¦è®¾ç½®æˆä¸åŒçš„å€¼ï¼Œè¯·å‚è€ƒä½ çš„ä¸»é¢˜çš„æ–‡æ¡£è‡ªè¡Œè®¾ç½®ï¼Œå¸¸è§çš„æœ‰ zh-Hanså’Œ zh-CNã€‚|
|timezone|	ç½‘ç«™æ—¶åŒºã€‚Hexo é»˜è®¤ä½¿ç”¨æ‚¨ç”µè„‘çš„æ—¶åŒºã€‚è¯·å‚è€ƒ æ—¶åŒºåˆ—è¡¨ è¿›è¡Œè®¾ç½®ï¼Œå¦‚ America/New_York, Japan, å’Œ UTC ã€‚ä¸€èˆ¬çš„ï¼Œå¯¹äºä¸­å›½å¤§é™†åœ°åŒºå¯ä»¥ä½¿ç”¨ Asia/Shanghaiã€‚|

### 2ã€ç½‘å€

```shell
# URL
## Set your site url here. For example, if you use GitHub Page, set url as 'https://username.github.io/project'
url: http://520wsl.github.io
permalink: :year/:month/:day/:title/
permalink_defaults:
pretty_urls:
  trailing_index: true # Set to false to remove trailing 'index.html' from permalinks
  trailing_html: true # Set to false to remove trailing '.html' from permalinks
```


|å‚æ•°|æè¿°|é»˜è®¤å€¼|
|:--:|:---|:--:|
|url|ç½‘å€, å¿…é¡»ä»¥ http:// æˆ– https:// å¼€å¤´||
|root|	ç½‘ç«™æ ¹ç›®å½•	|url's pathname|
|permalink|	æ–‡ç« çš„ æ°¸ä¹…é“¾æ¥ æ ¼å¼|	:year/:month/:day/:title/|
|permalink_defaults|	æ°¸ä¹…é“¾æ¥ä¸­å„éƒ¨åˆ†çš„é»˜è®¤å€¼	||
|pretty_urls|	æ”¹å†™ permalink çš„å€¼æ¥ç¾åŒ– URL	||
|pretty_urls.trailing_index	|æ˜¯å¦åœ¨æ°¸ä¹…é“¾æ¥ä¸­ä¿ç•™å°¾éƒ¨çš„ index.htmlï¼Œè®¾ç½®ä¸º false æ—¶å»é™¤	|true|
|pretty_urls.trailing_html|	æ˜¯å¦åœ¨æ°¸ä¹…é“¾æ¥ä¸­ä¿ç•™å°¾éƒ¨çš„ .html, è®¾ç½®ä¸º false æ—¶å»é™¤ (å¯¹å°¾éƒ¨çš„ index.htmlæ— æ•ˆ)|	true|

## äº”ã€ssh å¯†é’¥ã€å…¬é’¥ç”Ÿæˆï¼ˆSSH Keysï¼‰

### 1ã€æ£€æŸ¥æ˜¯å¦å®‰è£…ssh

```shell
wangshilin@wangshilindeMacBook-Pro git % ssh
usage: ssh [-46AaCfGgKkMNnqsTtVvXxYy] [-B bind_interface]
           [-b bind_address] [-c cipher_spec] [-D [bind_address:]port]
           [-E log_file] [-e escape_char] [-F configfile] [-I pkcs11]
           [-i identity_file] [-J [user@]host[:port]] [-L address]
           [-l login_name] [-m mac_spec] [-O ctl_cmd] [-o option] [-p port]
           [-Q query_option] [-R address] [-S ctl_path] [-W host:port]
           [-w local_tun[:remote_tun]] destination [command]
wangshilin@wangshilindeMacBook-Pro git % 
```

### 2ã€ç”Ÿæˆssh keys

```shell
ssh-keygen -t rsa -C "your email@example.com"
# å¼•å·é‡Œé¢å¡«å†™ä½ çš„æ³¨å†Œæ—¶çš„é‚®ç®±åœ°å€ï¼Œæ¯”å¦‚xxxxxxxx@163.com
```
ã€ç¬¬ä¸€æ¬¡å›è½¦ã€‘ä¹‹åä¼šå‡ºç°ï¼š

```shell
Generating public/private rsa key pair.
Enter file in which to save the key (/Users/wangshilin/.ssh/id_rsa):   
# åˆ°è¿™é‡Œå¯ä»¥ç›´æ¥å›è½¦å°†å¯†é’¥æŒ‰é»˜è®¤æ–‡ä»¶è¿›è¡Œå­˜å‚¨
```

ã€ç¬¬äºŒæ¬¡å›è½¦ã€‘ç„¶åä¼šå‡ºç°ï¼š

```shell
Enter passphrase (empty for no passphrase):
# è¿™é‡Œæ˜¯è¦ä½ è¾“å…¥å¯†ç ï¼Œå…¶å®ä¸éœ€è¦è¾“ä»€ä¹ˆå¯†ç ï¼Œç›´æ¥å›è½¦å°±è¡Œ
Enter same passphrase again:
# å†å›è½¦
```

ã€ç¬¬ä¸‰æ¬¡å›è½¦ã€ç¬¬å››æ¬¡å›è½¦ã€‘æ¥ä¸‹æ¥å±å¹•ä¼šæ˜¾ç¤ºï¼š

```shell
Your identification has been saved in /Users/wangshilin/.ssh/id_rsa
Your public key has been saved in /Users/wangshilin/.ssh/id_rsa.pub

The key fingerprint is:
# è¿™é‡Œæ˜¯å„ç§å­—æ¯æ•°å­—ç»„æˆçš„å­—ç¬¦ä¸²ï¼Œç»“å°¾æ˜¯ä½ çš„é‚®ç®±
SHA256:xxxxxxxxxxxx xxxxxxx@163.com

The key's randomart image is:
# è¿™é‡Œä¹Ÿæ˜¯å„ç§å­—æ¯æ•°å­—ç¬¦å·ç»„æˆçš„å­—ç¬¦ä¸²
+---[RSA 3072]----+
|   .             |
|  + .            |
|   O +       .   |
|  + / o     . .  |
|   % X .S  o .   |
|    O . ..+ .o . |
|     . .oo =+ =  |
|      ..Eoooo+ +.|
|        . oooo+o+|
+----[SHA256]-----+
```

å››æ¬¡å›è½¦åï¼Œæˆ‘ä»¬çš„SSH keyså°±å·²ç»ç”Ÿæˆäº†ï¼Œå­˜åœ¨C:/Users/è‡ªå·±ç”µè„‘çš„ç”¨æˆ·åï¼ˆå¦‚æœªæ–°å»ºï¼Œé»˜è®¤æ˜¯Administratorï¼‰/.ssh/id_rsa.pubæ–‡ä»¶ä¸­ã€‚

## å…­ã€åœ¨GitHubè´¦æˆ·ä¸­æ·»åŠ ä½ çš„å…¬é’¥

### 1ã€ç™»é™†githubï¼Œè¿›å…¥Settings
![hexoæ­å»ºåšå®¢01.png](images/hexoæ­å»ºåšå®¢01.png)
### 2ã€ç‚¹å‡» SSH and GPG Keysï¼š
![hexoæ­å»ºåšå®¢02.png](images/hexoæ­å»ºåšå®¢02.png)
### 3ã€é€‰æ‹© New SSH key
![hexoæ­å»ºåšå®¢03.png](images/hexoæ­å»ºåšå®¢03.png)
### 4ã€æ·»åŠ SSH keysæ­¥éª¤å¦‚å›¾
![hexoæ­å»ºåšå®¢04.png](images/hexoæ­å»ºåšå®¢04.png)

- Titleéšä¾¿å†™
- Key sshç”Ÿæˆçš„å…¬é’¥ï¼Œid_rsa.pubçš„å†…å®¹å¤åˆ¶ç²˜è´´è¿‡æ¥

### 5ã€æµ‹è¯•SSHæ˜¯å¦ç»‘å®šæˆåŠŸ
è¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼šæ³¨æ„ï¼šgit@github.comä¸è¦åšä»»ä½•æ›´æ”¹ï¼

```shell
ssh -T git@github.com
```
å›è½¦ï¼Œå†æ¬¡è¾“å…¥yesåå›è½¦ï¼Œå°±ä¼šæ˜¾ç¤ºï¼š
```shell
wangshilin@wangshilindeMacBook-Pro git % ssh -T git@github.com
Hi 520wsl! You've successfully authenticated, but GitHub does not provide shell access.
wangshilin@wangshilindeMacBook-Pro git % 
```

### 6ã€é…ç½®Gitä¸ªäººä¿¡æ¯
Git ä¼šæ ¹æ®ç”¨æˆ·çš„åå­—å’Œé‚®ç®±æ¥è®°å½•æäº¤ï¼ŒGitHub ä¹Ÿæ˜¯ç”¨è¿™äº›ä¿¡æ¯æ¥åšæƒé™çš„å¤„ç†ï¼Œè¾“å…¥ä»¥ä¸‹å‘½ä»¤è¿›è¡Œä¸ªäººä¿¡æ¯çš„è®¾ç½®ï¼ŒæŠŠåç§°å’Œé‚®ç®±æ›¿æ¢æˆè‡ªå·±çš„ï¼Œåå­—å¯ä»¥ä¸æ˜¯GitHubçš„æ˜µç§°ï¼Œä½†ä¸ºäº†æ–¹ä¾¿è®°å¿†ï¼Œå»ºè®®ä¸GitHubä¸€è‡´ã€‚

```shell
git config --global user.name "æ­¤å¤„å¡«ä½ çš„ç”¨æˆ·å"
git config --global user.email "æ­¤å¤„å¡«ä½ çš„é‚®ç®±"
```
## ä¸ƒã€ç”Ÿæˆ githubä»¤ç‰Œ

### 1ã€ç™»é™†githubï¼Œæ‰¾åˆ°Settingsä¸­çš„Developer settings(å¼€å‘è€…è®¾ç½®)ï¼Œå…¶ä¸­æœ‰ä¸€ä¸ªPersonal access tokensï¼Œç‚¹è¿›å»å°±å¯ä»¥Generate new tokenäº†ã€‚
![hexoæ­å»ºåšå®¢07.png](images/hexoæ­å»ºåšå®¢07.png)
![hexoæ­å»ºåšå®¢08.png](images/hexoæ­å»ºåšå®¢08.png)

### 2ã€ç”Ÿæˆä»¤ç‰Œ
![hexoæ­å»ºåšå®¢09.png](images/hexoæ­å»ºåšå®¢09.png)
![hexoæ­å»ºåšå®¢10.png](images/hexoæ­å»ºåšå®¢10.png)
Select scopes æœ€å¥½å…¨é€‰

ç‚¹å‡»Generate tokenåï¼Œä¼šæ˜¾ç¤ºç”Ÿæˆçš„ä¸€æ®µä»£æ›¿å¯†ç çš„åºåˆ—å·ï¼Œä¸€é”®å¤åˆ¶ä¹‹åå°†å®ƒå­˜åœ¨æ–¹ä¾¿æ‰¾åˆ°çš„åœ°æ–¹ï¼Œå› ä¸ºä¸‹ä¸€æ¬¡ä½¿ç”¨ä»¤ç‰Œæ—¶è¿™é‡Œçš„åºåˆ—å·å°†è¢«éšè—ã€‚


## å…«ã€Hexoå‘å¸ƒ

### 1ã€åˆ›å»ºå’Œä½ githubç™»é™†ååŒåçš„é¡¹ç›®  yourname.github.io
![hexoæ­å»ºåšå®¢05.png](images/hexoæ­å»ºåšå®¢05.png)

### 2ã€å¤åˆ¶é¡¹ç›®åœ°å€
![hexoæ­å»ºåšå®¢06.png](images/hexoæ­å»ºåšå®¢06.png)

### 3ã€æ‰“å¼€ hexoé¡¹ç›®çš„_config.yml æ–‡ä»¶ï¼Œå°†è¯¥æ–‡ä»¶æœ€åº•éƒ¨çš„deployå…³é”®å­—ä»£ç ï¼š
```shell
deploy:
  type: 
```
ä¿®æ”¹ä¸ºï¼ˆæ³¨æ„ï¼šæ‰€æœ‰è‹±æ–‡å†’å·åé¢éƒ½æœ‰ä¸€ä¸ªç©ºæ ¼, repositoryåé¢çš„æ˜¯è·å–åˆ°çš„ä»“åº“åœ°å€ï¼‰

```shell
deploy:
  type: git
  repository: https://github.com/xxx/xxx.github.io.git
  branch: main
```

### 4ã€å®‰è£…hexo-deployer-gitè‡ªåŠ¨éƒ¨ç½²å‘å¸ƒå·¥å…·ï¼Œå³å°†hexo éƒ¨ç½²åˆ° git page çš„ deployer

```shell
npm install hexo-deployer-git --save # yarn add hexo-deployer-git
```

### 5ã€æ¨é€åˆ°github

```shell
hexo clean && hexo deploy
```

### 6ã€æ¨é€åä¼šæç¤ºå¡«å†™ç”¨æˆ·åå’Œå¯†ç 

- ç”¨æˆ·åæ˜¯githubçš„ç”¨æˆ·å
- å¯†ç æ˜¯ä¸Šé¢ç”Ÿäº§çš„ä»¤ç‰Œï¼ˆæ³¨æ„ä¸æ˜¯githubçš„å¯†ç ï¼‰

### 7ã€å¦‚ä¸‹ç±»ä¼¼æç¤º æ¨é€æˆåŠŸ

```shell
wangshilin@wangshilindeMacBook-Pro 520wsl % hexo clean && hexo deploy 
INFO  Validating config
...
...
Enumerating objects: 34, done.
Counting objects: 100% (34/34), done.
Delta compression using up to 10 threads
Compressing objects: 100% (26/26), done.
Writing objects: 100% (34/34), 881.81 KiB | 15.20 MiB/s, done.
Total 34 (delta 4), reused 0 (delta 0), pack-reused 0
remote: Resolving deltas: 100% (4/4), done.
To https://github.com/520wsl/520wsl.github.io.git
 + a989e62...6690edd HEAD -> main (forced update)
Branch 'master' set up to track remote branch 'main' from 'https://github.com/520wsl/520wsl.github.io.git'.
INFO  Deploy done: git
wangshilin@wangshilindeMacBook-Pro 520wsl % 
```

## ä¹ã€Github Pages è®¾ç½®

### 1ã€è¿›å…¥ä»“åº“ï¼Œæ‰¾åˆ°Settingsï¼Œå‘ä¸‹ç¿»æœ€åé¢æœ‰Github Pagesï¼Œç‚¹å‡»Check it out here
![hexoæ­å»ºåšå®¢11.png](images/hexoæ­å»ºåšå®¢11.png)

### 2ã€æ‰“å¼€ https://youname.github.io/
![hexoæ­å»ºåšå®¢12.png](images/hexoæ­å»ºåšå®¢12.png)

å¥½äº†ï¼Œç°åœ¨ä½ çš„åšå®¢å¯ä»¥è¢«äººçœ‹è§äº†ã€‚å¼€å¿ƒå§ğŸ˜„