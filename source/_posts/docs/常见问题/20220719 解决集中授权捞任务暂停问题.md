---
title: 集中授权捞任务暂停问题解决
date: 2022-07-19 15:09:00
categories:
- 总结

tags:
- work
- vuejs
- fox
---

# 集中授权捞任务暂停问题解决

## 一、问题复现

进入页面，点击启动，计时器运行至2s时暂停计时，且无法捞到任务

![集中授权捞任务暂停问题截图01.png](images\集中授权捞任务暂停问题截图01.png)

## 二、产生原因

清空任务时只单纯清空了页面显示的内容，没有清空右上角红色计时器

## 三、解决方案

添加清空右上角红色计时器的代码

```js
// 清空任务并且2s后继续
clearTask() {
    this.nowHasTask = false
    this.clearDisplayInfo()
    // 删除计时器
    if (redClockTime) {
        clearInterval(redClockTime)
    }
    // 2s后重新开始捞任务
    let that = this
    if (!that.stopFishing) {
        refreshFlag = setTimeout(() => {
            that.startUp()
        }, 2000)
    } else {
        this.startUse = false
        this.releaseUse = true
    }
},
```
